if !move.axes[0].homed || !move.axes[1].homed || !move.axes[2].homed || !move.axes[2].homed
  G28

G90
G1 X-50 U50 Y0 Z150 F18000; A100 B100 C100

M400

M584 A5 B7 C6                ; set drive mapping

M350 A16 B16 C16 I1   	     ; configure microstepping with interpolation
M92 A300 B300 C300           ; set steps per mm

M566 A600 B600 C600          ; set maximum jerk (mm/min)
M203 A3600 B3600 C3600       ; set maximum speeds (mm/min)
M201 A200 B200 C200          ; set accelerations (mm/s^2)
M906 A1000 B1000 C1000 I20   ; set motor currents (mA) and motor idle factor in per cent
M204 P15000 T15000

; Axis Limits
M208  Z0 A0 B0 C0 S1         	      ; set axis minima
M208  Z450 A440 B440 C440  S0         ; set axis maxima

G92 A100 B100 C100
M106 P5 S0.5


G1 A70.460 B70.460 C134.051 F1200
G1 F18000

while iterations < 9999 && sensors.endstops[0].triggered == false && sensors.endstops[3].triggered == false

	G1 A70.460 B70.460 C134.051
	G1 A71.283 B69.648 C134.045
	G1 A72.119 B68.852 C134.024
	G1 A72.969 B68.069 C133.988
	G1 A73.831 B67.302 C133.938
	G1 A74.706 B66.551 C133.873
	G1 A75.592 B65.815 C133.794
	G1 A76.490 B65.094 C133.701
	G1 A77.399 B64.390 C133.594
	G1 A78.318 B63.702 C133.472
	G1 A79.247 B63.030 C133.336
	G1 A80.186 B62.375 C133.187
	G1 A81.134 B61.737 C133.023
	G1 A82.091 B61.116 C132.845
	G1 A83.056 B60.513 C132.653
	G1 A84.028 B59.927 C132.447
	G1 A85.008 B59.359 C132.228
	G1 A85.995 B58.809 C131.994
	G1 A86.988 B58.277 C131.747
	G1 A87.987 B57.764 C131.486
	G1 A88.991 B57.270 C131.211
	G1 A90.001 B56.795 C130.923
	G1 A91.015 B56.339 C130.621
	G1 A92.033 B55.902 C130.306
	G1 A93.054 B55.484 C129.978
	G1 A94.079 B55.087 C129.636
	G1 A95.106 B54.708 C129.282
	G1 A96.135 B54.350 C128.914
	G1 A97.165 B54.011 C128.533
	G1 A98.197 B53.692 C128.140
	G1 A99.229 B53.394 C127.734
	G1 A100.261 B53.115 C127.315
	G1 A101.292 B52.857 C126.885
	G1 A102.322 B52.619 C126.442
	G1 A103.351 B52.402 C125.986
	G1 A104.378 B52.205 C125.520
	G1 A105.403 B52.028 C125.041
	G1 A106.424 B51.872 C124.551
	G1 A107.442 B51.736 C124.049
	G1 A108.457 B51.621 C123.536
	G1 A109.466 B51.526 C123.013
	G1 A110.471 B51.452 C122.478
	G1 A111.470 B51.399 C121.933
	G1 A112.464 B51.366 C121.377
	G1 A113.452 B51.354 C120.812
	G1 A114.432 B51.362 C120.236
	G1 A115.406 B51.391 C119.651
	G1 A116.372 B51.440 C119.056
	G1 A117.330 B51.509 C118.453
	G1 A118.279 B51.599 C117.840
	G1 A119.220 B51.710 C117.219
	G1 A120.151 B51.841 C116.589
	G1 A121.073 B51.992 C115.952
	G1 A121.984 B52.163 C115.306
	G1 A122.885 B52.355 C114.653
	G1 A123.776 B52.567 C113.993
	G1 A124.655 B52.798 C113.326
	G1 A125.522 B53.050 C112.652
	G1 A126.378 B53.321 C111.972
	G1 A127.221 B53.612 C111.286
	G1 A128.051 B53.922 C110.594
	G1 A128.869 B54.253 C109.897
	G1 A129.673 B54.602 C109.195
	G1 A130.463 B54.971 C108.488
	G1 A131.240 B55.359 C107.777
	G1 A132.002 B55.766 C107.062
	G1 A132.750 B56.192 C106.343
	G1 A133.483 B56.636 C105.621
	G1 A134.201 B57.099 C104.896
	G1 A134.903 B57.580 C104.169
	G1 A135.590 B58.080 C103.439
	G1 A136.261 B58.598 C102.707
	G1 A136.915 B59.133 C101.974
	G1 A137.554 B59.686 C101.240
	G1 A138.175 B60.257 C100.505
	G1 A138.780 B60.845 C99.770
	G1 A139.368 B61.450 C99.035
	G1 A139.939 B62.071 C98.300
	G1 A140.492 B62.709 C97.566
	G1 A141.027 B63.364 C96.833
	G1 A141.545 B64.035 C96.101
	G1 A142.045 B64.722 C95.372
	G1 A142.526 B65.424 C94.644
	G1 A142.989 B66.142 C93.919
	G1 A143.433 B66.875 C93.197
	G1 A143.859 B67.623 C92.479
	G1 A144.266 B68.385 C91.764
	G1 A144.654 B69.162 C91.052
	G1 A145.023 B69.952 C90.346
	G1 A145.372 B70.756 C89.644
	G1 A145.702 B71.574 C88.946
	G1 A146.013 B72.404 C88.255
	G1 A146.304 B73.248 C87.569
	G1 A146.575 B74.103 C86.889
	G1 A146.827 B74.971 C86.215
	G1 A147.058 B75.850 C85.548
	G1 A147.270 B76.740 C84.887
	G1 A147.462 B77.642 C84.234
	G1 A147.633 B78.553 C83.589
	G1 A147.784 B79.475 C82.951
	G1 A147.915 B80.406 C82.321
	G1 A148.025 B81.347 C81.700
	G1 A148.116 B82.296 C81.088
	G1 A148.185 B83.254 C80.484
	G1 A148.234 B84.220 C79.889
	G1 A148.263 B85.194 C79.304
	G1 A148.271 B86.175 C78.729
	G1 A148.259 B87.162 C78.163
	G1 A148.226 B88.156 C77.607
	G1 A148.173 B89.155 C77.062
	G1 A148.099 B90.160 C76.528
	G1 A148.004 B91.170 C76.004
	G1 A147.889 B92.184 C75.491
	G1 A147.753 B93.202 C74.990
	G1 A147.597 B94.224 C74.500
	G1 A147.420 B95.248 C74.021
	G1 A147.223 B96.275 C73.554
	G1 A147.005 B97.304 C73.099
	G1 A146.768 B98.334 C72.656
	G1 A146.510 B99.366 C72.225
	G1 A146.231 B100.397 C71.806
	G1 A145.933 B101.429 C71.401
	G1 A145.614 B102.461 C71.007
	G1 A145.276 B103.491 C70.627
	G1 A144.917 B104.520 C70.259
	G1 A144.539 B105.547 C69.904
	G1 A144.141 B106.571 C69.563
	G1 A143.724 B107.592 C69.234
	G1 A143.287 B108.610 C68.919
	G1 A142.831 B109.624 C68.617
	G1 A142.356 B110.634 C68.329
	G1 A141.862 B111.638 C68.054
	G1 A141.349 B112.638 C67.793
	G1 A140.818 B113.631 C67.546
	G1 A140.268 B114.618 C67.312
	G1 A139.700 B115.598 C67.093
	G1 A139.114 B116.571 C66.887
	G1 A138.510 B117.536 C66.695
	G1 A137.889 B118.492 C66.517
	G1 A137.251 B119.440 C66.354
	G1 A136.595 B120.379 C66.204
	G1 A135.923 B121.308 C66.069
	G1 A135.234 B122.226 C65.947
	G1 A134.529 B123.135 C65.840
	G1 A133.808 B124.032 C65.747
	G1 A133.071 B124.918 C65.669
	G1 A132.319 B125.793 C65.605
	G1 A131.552 B126.655 C65.555
	G1 A130.771 B127.505 C65.519
	G1 A129.975 B128.341 C65.497
	G1 A129.165 B129.165 C65.490
	G1 A128.341 B129.975 C65.497
	G1 A127.505 B130.771 C65.519
	G1 A126.655 B131.552 C65.555
	G1 A125.793 B132.319 C65.605
	G1 A124.918 B133.071 C65.669
	G1 A124.032 B133.808 C65.747
	G1 A123.135 B134.529 C65.840
	G1 A122.226 B135.234 C65.947
	G1 A121.308 B135.923 C66.069
	G1 A120.379 B136.595 C66.204
	G1 A119.440 B137.251 C66.354
	G1 A118.492 B137.889 C66.517
	G1 A117.536 B138.510 C66.695
	G1 A116.571 B139.114 C66.887
	G1 A115.598 B139.700 C67.093
	G1 A114.618 B140.268 C67.312
	G1 A113.631 B140.818 C67.546
	G1 A112.638 B141.349 C67.793
	G1 A111.638 B141.862 C68.054
	G1 A110.634 B142.356 C68.329
	G1 A109.624 B142.831 C68.617
	G1 A108.610 B143.287 C68.919
	G1 A107.592 B143.724 C69.234
	G1 A106.571 B144.141 C69.563
	G1 A105.547 B144.539 C69.904
	G1 A104.520 B144.917 C70.259
	G1 A103.491 B145.276 C70.627
	G1 A102.461 B145.614 C71.007
	G1 A101.429 B145.933 C71.401
	G1 A100.397 B146.231 C71.806
	G1 A99.366 B146.510 C72.225
	G1 A98.334 B146.768 C72.656
	G1 A97.304 B147.005 C73.099
	G1 A96.275 B147.223 C73.554
	G1 A95.248 B147.420 C74.021
	G1 A94.224 B147.597 C74.500
	G1 A93.202 B147.753 C74.990
	G1 A92.184 B147.889 C75.491
	G1 A91.170 B148.004 C76.004
	G1 A90.160 B148.099 C76.528
	G1 A89.155 B148.173 C77.062
	G1 A88.156 B148.226 C77.607
	G1 A87.162 B148.259 C78.163
	G1 A86.175 B148.271 C78.729
	G1 A85.194 B148.263 C79.304
	G1 A84.220 B148.234 C79.889
	G1 A83.254 B148.185 C80.484
	G1 A82.296 B148.116 C81.088
	G1 A81.347 B148.025 C81.700
	G1 A80.406 B147.915 C82.321
	G1 A79.475 B147.784 C82.951
	G1 A78.553 B147.633 C83.589
	G1 A77.642 B147.462 C84.234
	G1 A76.740 B147.270 C84.887
	G1 A75.850 B147.058 C85.548
	G1 A74.971 B146.827 C86.215
	G1 A74.103 B146.575 C86.889
	G1 A73.248 B146.304 C87.569
	G1 A72.404 B146.013 C88.255
	G1 A71.574 B145.702 C88.946
	G1 A70.756 B145.372 C89.644
	G1 A69.952 B145.023 C90.346
	G1 A69.162 B144.654 C91.052
	G1 A68.385 B144.266 C91.764
	G1 A67.623 B143.859 C92.479
	G1 A66.875 B143.433 C93.197
	G1 A66.142 B142.989 C93.919
	G1 A65.424 B142.526 C94.644
	G1 A64.722 B142.045 C95.372
	G1 A64.035 B141.545 C96.101
	G1 A63.364 B141.027 C96.833
	G1 A62.709 B140.492 C97.566
	G1 A62.071 B139.939 C98.300
	G1 A61.450 B139.368 C99.035
	G1 A60.845 B138.780 C99.770
	G1 A60.257 B138.175 C100.505
	G1 A59.686 B137.554 C101.240
	G1 A59.133 B136.915 C101.974
	G1 A58.598 B136.261 C102.707
	G1 A58.080 B135.590 C103.439
	G1 A57.580 B134.903 C104.169
	G1 A57.099 B134.201 C104.896
	G1 A56.636 B133.483 C105.621
	G1 A56.192 B132.750 C106.343
	G1 A55.766 B132.002 C107.062
	G1 A55.359 B131.240 C107.777
	G1 A54.971 B130.463 C108.488
	G1 A54.602 B129.673 C109.195
	G1 A54.253 B128.869 C109.897
	G1 A53.922 B128.051 C110.594
	G1 A53.612 B127.221 C111.286
	G1 A53.321 B126.378 C111.972
	G1 A53.050 B125.522 C112.652
	G1 A52.798 B124.655 C113.326
	G1 A52.567 B123.776 C113.993
	G1 A52.355 B122.885 C114.653
	G1 A52.163 B121.984 C115.306
	G1 A51.992 B121.073 C115.952
	G1 A51.841 B120.151 C116.589
	G1 A51.710 B119.220 C117.219
	G1 A51.599 B118.279 C117.840
	G1 A51.509 B117.330 C118.453
	G1 A51.440 B116.372 C119.056
	G1 A51.391 B115.406 C119.651
	G1 A51.362 B114.432 C120.236
	G1 A51.354 B113.452 C120.812
	G1 A51.366 B112.464 C121.377
	G1 A51.399 B111.470 C121.933
	G1 A51.452 B110.471 C122.478
	G1 A51.526 B109.466 C123.013
	G1 A51.621 B108.457 C123.536
	G1 A51.736 B107.442 C124.049
	G1 A51.872 B106.424 C124.551
	G1 A52.028 B105.403 C125.041
	G1 A52.205 B104.378 C125.520
	G1 A52.402 B103.351 C125.986
	G1 A52.619 B102.322 C126.442
	G1 A52.857 B101.292 C126.885
	G1 A53.115 B100.261 C127.315
	G1 A53.394 B99.229 C127.734
	G1 A53.692 B98.197 C128.140
	G1 A54.011 B97.165 C128.533
	G1 A54.350 B96.135 C128.914
	G1 A54.708 B95.106 C129.282
	G1 A55.087 B94.079 C129.636
	G1 A55.484 B93.054 C129.978
	G1 A55.902 B92.033 C130.306
	G1 A56.339 B91.015 C130.621
	G1 A56.795 B90.001 C130.923
	G1 A57.270 B88.991 C131.211
	G1 A57.764 B87.987 C131.486
	G1 A58.277 B86.988 C131.747
	G1 A58.809 B85.995 C131.994
	G1 A59.359 B85.008 C132.228
	G1 A59.927 B84.028 C132.447
	G1 A60.513 B83.056 C132.653
	G1 A61.116 B82.091 C132.845
	G1 A61.737 B81.134 C133.023
	G1 A62.375 B80.186 C133.187
	G1 A63.030 B79.247 C133.336
	G1 A63.702 B78.318 C133.472
	G1 A64.390 B77.399 C133.594
	G1 A65.094 B76.490 C133.701
	G1 A65.815 B75.592 C133.794
	G1 A66.551 B74.706 C133.873
	G1 A67.302 B73.831 C133.938
	G1 A68.069 B72.969 C133.988
	G1 A68.852 B72.119 C134.024
	G1 A69.648 B71.283 C134.045
	G1 A70.460 B70.460 C134.051


G90
G1 A100 B100 C100 F1800
M106 P5 S0