; Change yoffset value
set global.yoffset = global.yoffset - 0.05

; Generate yoffset.g (persistent yoffset var)
echo >"essential/autogen/yoffset.g" "; Please edit contents of the original file"
echo >>"essential/autogen/yoffset.g" "if exists(global.yoffset)"
echo >>"essential/autogen/yoffset.g" "  set global.yoffset = "^{global.yoffset}
echo >>"essential/autogen/yoffset.g" "else"
echo >>"essential/autogen/yoffset.g" "  global yoffset = "^{global.yoffset}

; Generate tooloffset.g
echo >"essential/autogen/tooloffset.g" "; Please edit contents of the original file"
echo >>"essential/autogen/tooloffset.g" "; Set tool offsets"
echo >>"essential/autogen/tooloffset.g" "G10 P1 U"^{global.uoffset}^" Y"^{global.yoffset}

; Apply changes
G10 P1 U{global.uoffset} Y{global.yoffset}
echo "Current offsets: U"^{global.uoffset}^" Y"^{global.yoffset}